{% extends "layout.html" %}
{% block title %}
Add Activity
{% endblock %}

{% block main %}
<h1>Add Activity</h1>

    {% if page_type == "new"  %}
    <form action="{{ form_meta['action'] }}" method="{{ form_meta['method'] }}">
        <label for="start_date">Start Date:</label>
        <input
            id="start_date"
            type="text"
            name="start_date"
            value=""
            placeholder="YYYY-MM-DD"
            autocomplete="off"
            required
            >
        <br>
        <label for="end_date">End Date:</label>
        <input
            id="end_date"
            type="text"
            name="end_date"
            value=""
            placeholder="YYYY-MM-DD (optional)"
            autocomplete="off"
            >
        <br>
        <label for="description">Description:</label>
        <input
            id="description"
            type="text"
            name="description"
            value=""
            placeholder="Description of Activity"
            autocomplete="off"
            required
            >
        <br>
        <input type="submit" value="Submit">
    </form>

    <p id="fail">{{ message }}</p>

    {% elif page_type == "confirm" %}
    
    <h2>Confirm details</h2>
    <table>
        {% for i in range(headers | length) %}
        <tr>
            <th>{{ header[i]['label'] }}</th>
            <td>{{ form_data[i][header['value']] }}</td>
        </tr>
        {% endfor %}
    </table>
    <p>Is this correct?</p>
    <form action="{{ form_meta['action'] }}" method="{{ form_meta['method'] }}">
        {% for name, value in form_data.items() %}
        <input
            type="hidden"
            name="{{ name }}"
            value="{{ value }}"
            >
        {% endfor %}
        <input type="submit" value="Yes">
    </form>
    
    <form action="/add_activity" method="GET">
        <input type="submit" value="No">
    </form>
    {% endif %}

{% endblock %}

